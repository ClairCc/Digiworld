!function(t){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),t.requestAnimationFrame||function(){for(var e=["webkit","moz"],i=0;i<e.length&&!t.requestAnimationFrame;++i){var n=e[i];t.requestAnimationFrame=t[n+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n+"CancelAnimationFrame"]||t[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)||!t.requestAnimationFrame||!t.cancelAnimationFrame){var o=0;t.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(o+16,e);return setTimeout(function(){t(o=i)},i-e)},t.cancelAnimationFrame=clearTimeout}}();var e=document.createElement("div");function i(t){var i=["O","Moz","ms","Ms","Webkit"],n=i.length;if(void 0!==e.style[t])return!0;for(t=t.charAt(0).toUpperCase()+t.substr(1);--n>-1&&void 0===e.style[i[n]+t];);return n>=0}var n,o,a=i("transform"),s=i("perspective"),r=navigator.userAgent,l=r.toLowerCase().indexOf("android")>-1,c=/iPad|iPhone|iPod/.test(r)&&!t.MSStream,m=r.toLowerCase().indexOf("firefox")>-1,p=r.indexOf("MSIE ")>-1||r.indexOf("Trident/")>-1||r.indexOf("Edge/")>-1,h=document.all&&!t.atob;function u(){n=t.innerWidth||document.documentElement.clientWidth,o=t.innerHeight||document.documentElement.clientHeight}u();var d=[],g=function(){var t=0;return function(e,i){var n;if(this.$item=e,this.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},n=JSON.parse(this.$item.getAttribute("data-jarallax")||"{}"),this.options=this.extend({},this.defaults,n,i),!(!a||l&&this.options.noAndroid||c&&this.options.noIos)){this.options.speed=Math.min(2,Math.max(-1,parseFloat(this.options.speed)));var o=this.options.elementInViewport;o&&"object"==typeof o&&void 0!==o.length&&(o=o[0]),!o instanceof Element&&(o=null),this.options.elementInViewport=o,this.instanceID=t++,this.image={src:this.options.imgSrc||null,$container:null,$item:null,width:this.options.imgWidth||null,height:this.options.imgHeight||null,useImgTag:c||l||p,position:!s||m?"absolute":"fixed"},this.initImg()&&this.init()}}}();function f(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent("on"+e,function(){i.call(t)})}function y(e){t.requestAnimationFrame(function(){"scroll"!==e.type&&u();for(var t=0,i=d.length;t<i;t++)"scroll"!==e.type&&(d[t].coverImage(),d[t].clipContainer()),d[t].onScroll()})}g.prototype.css=function(e,i){if("string"==typeof i)return t.getComputedStyle?t.getComputedStyle(e).getPropertyValue(i):e.style[i];for(var n in i.transform&&(s&&(i.transform+=" translateZ(0)"),i.WebkitTransform=i.MozTransform=i.msTransform=i.OTransform=i.transform),i)e.style[n]=i[n];return e},g.prototype.extend=function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t},g.prototype.initImg=function(){return null===this.image.src&&(this.image.src=this.css(this.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!this.image.src||"none"===this.image.src)},g.prototype.init=function(){var t=this,e={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},i={};t.$item.setAttribute("data-jarallax-original-styles",t.$item.getAttribute("style")),"static"===t.css(t.$item,"position")&&t.css(t.$item,{position:"relative"}),"auto"===t.css(t.$item,"z-index")&&t.css(t.$item,{zIndex:0}),t.image.$container=document.createElement("div"),t.css(t.image.$container,e),t.css(t.image.$container,{visibility:"hidden","z-index":t.options.zIndex}),t.image.$container.setAttribute("id","jarallax-container-"+t.instanceID),t.$item.appendChild(t.image.$container),t.image.useImgTag?(t.image.$item=document.createElement("img"),t.image.$item.setAttribute("src",t.image.src),i=t.extend({"max-width":"none"},e,i)):(t.image.$item=document.createElement("div"),i=t.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+t.image.src+'")'},e,i));for(var n=0,o=t.$item;null!==o&&o!==document&&0===n;){var a=t.css(o,"-webkit-transform")||t.css(o,"-moz-transform")||t.css(o,"transform");a&&"none"!==a&&(n=1,t.css(t.image.$container,{transform:"translateX(0) translateY(0)"})),o=o.parentNode}function s(){t.coverImage(),t.clipContainer(),t.onScroll(!0),t.options.onInit&&t.options.onInit.call(t),setTimeout(function(){t.$item&&t.css(t.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}(n||"opacity"===t.options.type||"scale"===t.options.type||"scale-opacity"===t.options.type)&&(t.image.position="absolute"),i.position=t.image.position,t.css(t.image.$item,i),t.image.$container.appendChild(t.image.$item),t.image.width&&t.image.height?s():t.getImageSize(t.image.src,function(e,i){t.image.width=e,t.image.height=i,s()}),d.push(t)},g.prototype.destroy=function(){for(var t=0,e=d.length;t<e;t++)if(d[t].instanceID===this.instanceID){d.splice(t,1);break}var i=this.$item.getAttribute("data-jarallax-original-styles");for(var n in this.$item.removeAttribute("data-jarallax-original-styles"),"null"===i?this.$item.removeAttribute("style"):this.$item.setAttribute("style",i),this.$clipStyles&&this.$clipStyles.parentNode.removeChild(this.$clipStyles),this.image.$container.parentNode.removeChild(this.image.$container),this.options.onDestroy&&this.options.onDestroy.call(this),delete this.$item.jarallax,this)delete this[n]},g.prototype.getImageSize=function(t,e){if(t&&e){var i=new Image;i.onload=function(){e(i.width,i.height)},i.src=t}},g.prototype.clipContainer=function(){if(!h){var t=this.image.$container.getBoundingClientRect(),e=t.width,i=t.height;if(!this.$clipStyles)this.$clipStyles=document.createElement("style"),this.$clipStyles.setAttribute("type","text/css"),this.$clipStyles.setAttribute("id","#jarallax-clip-"+this.instanceID),(document.head||document.getElementsByTagName("head")[0]).appendChild(this.$clipStyles);var n=["#jarallax-container-"+this.instanceID+" {","   clip: rect(0 "+e+"px "+i+"px 0);","   clip: rect(0, "+e+"px, "+i+"px, 0);","}"].join("\n");this.$clipStyles.styleSheet?this.$clipStyles.styleSheet.cssText=n:this.$clipStyles.innerHTML=n}},g.prototype.coverImage=function(){if(this.image.width&&this.image.height){var t=this.image.$container.getBoundingClientRect(),e=t.width,i=t.height,n=t.left,a=this.image.width,s=this.image.height,r=this.options.speed,l="scroll"===this.options.type||"scroll-opacity"===this.options.type,c=0,m=0,p=i,h=0,u=0;l&&(c=r<0?r*Math.max(i,o):r*(i+o),r>1?p=Math.abs(c-o):r<0?p=c/r+Math.abs(c):p+=Math.abs(o-i)*(1-r),c/=2),(m=p*a/s)<e&&(p=(m=e)*s/a),l?(h=n+(e-m)/2,u=(o-p)/2):(h=(e-m)/2,u=(i-p)/2),"absolute"===this.image.position&&(h-=n),this.parallaxScrollDistance=c,this.css(this.image.$item,{width:m+"px",height:p+"px",marginLeft:h+"px",marginTop:u+"px"}),this.options.onCoverImage&&this.options.onCoverImage.call(this)}},g.prototype.isVisible=function(){return this.isElementInViewport||!1},g.prototype.onScroll=function(t){if(this.image.width&&this.image.height){var e=this.$item.getBoundingClientRect(),i=e.top,a=e.height,s={visibility:"visible",backgroundPosition:"50% 50%"},r=e;if(this.options.elementInViewport&&(r=this.options.elementInViewport.getBoundingClientRect()),this.isElementInViewport=r.bottom>=0&&r.right>=0&&r.top<=o&&r.left<=n,t||this.isElementInViewport){var l=Math.max(0,i),c=Math.max(0,a+i),m=Math.max(0,-i),p=Math.max(0,i+a-o),h=Math.max(0,a-(i+a-o)),u=Math.max(0,-i+o-a),d=1-2*(o-i)/(o+a),g=1;if(a<o?g=1-(m||p)/a:c<=o?g=c/o:h<=o&&(g=h/o),"opacity"!==this.options.type&&"scale-opacity"!==this.options.type&&"scroll-opacity"!==this.options.type||(s.transform="",s.opacity=g),"scale"===this.options.type||"scale-opacity"===this.options.type){var f=1;this.options.speed<0?f-=this.options.speed*g:f+=this.options.speed*(1-g),s.transform="scale("+f+")"}if("scroll"===this.options.type||"scroll-opacity"===this.options.type){var y=this.parallaxScrollDistance*d;"absolute"===this.image.position&&(y-=i),s.transform="translateY("+y+"px)"}this.css(this.image.$item,s),this.options.onScroll&&this.options.onScroll.call(this,{section:e,beforeTop:l,beforeTopEnd:c,afterTop:m,beforeBottom:p,beforeBottomEnd:h,afterBottom:u,visiblePercent:g,fromViewportCenter:d})}}},f(t,"scroll",y),f(t,"resize",y),f(t,"orientationchange",y),f(t,"load",y);var v=function(t){("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)&&(t=[t]);for(var e,i=arguments[1],n=Array.prototype.slice.call(arguments,2),o=t.length,a=0;a<o;a++)if("object"==typeof i||void 0===i?t[a].jarallax||(t[a].jarallax=new g(t[a],i)):t[a].jarallax&&(e=t[a].jarallax[i].apply(t[a].jarallax,n)),void 0!==e)return e;return t};v.constructor=g;var x=t.jarallax;if(t.jarallax=v,t.jarallax.noConflict=function(){return t.jarallax=x,this},"undefined"!=typeof jQuery){var $=function(){var e=arguments||[];Array.prototype.unshift.call(e,this);var i=v.apply(t,e);return"object"!=typeof i?i:this};$.constructor=g;var b=jQuery.fn.jarallax;jQuery.fn.jarallax=$,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=b,this}}f(t,"DOMContentLoaded",function(){v(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window);